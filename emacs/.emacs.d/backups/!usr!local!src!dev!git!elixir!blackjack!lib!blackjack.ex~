defmodule Blackjack do
  import Blackjack.Deck
  import Blackjack.Points
  import Blackjack.Player
  import Blackjack.Banker

  def main(argv) do
    deck = prepare_deck()
    {player_hand, remaining_deck} = deal(deck, 2)
    {banker_hand, remaining_deck} = deal(remaining_deck, 2)
    {score, remaining_deck} = player_loop(player_hand, remaining_deck)
    score_to_beat = Enum.max(Tuple.to_list(score))
    IO.puts("The score to beat is: #{score_to_beat}")
    banker_loop(banker_hand, remaining_deck, score_to_beat)
  end

end
